<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>
    <h1>Text Shadow Generator</h1>

    <form>
        <div class="container">
            <div class="range-d">
                <h3>Настройки</h3>
                <!-- Остальные элементы формы здесь -->
                <label  for="font-family">Шрифт</label>
                <select class="font-family" id="font-family">
                    <option value="Arial">Arial</option>
                    <option value="Palatino Linotype">Palatino Linotype</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Courier New">Courier New</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Comic Sans MS">Comic Sans MS</option>
                    <option value="Trebuchet MS">Trebuchet MS</option>
                    <option value="Lucida Console">Lucida Console</option>
                </select>


                <label for="font-size"> Размер Шрифта</label>
                <input class="range" type="range" id="font-size" min="30" max="85" step="1" value="60">


                <label for="offsetX"> Смещение по оси X</label>
                <input class="range" type="range" id="offsetX" min="-60" max="60" step="1" value="20">

                <label for="offsetY"> Смещение по оси Y</label>
                <input class="range" type="range" id="offsetY" min="-60" max="60" step="1" value="40">

                <label for="blur">Разымытие</label>
                <input class="range" type="range" id="blur" min="0" max="40" step="1" value="8">


                <label for="color"> Выберите Цвет</label>
                <div>
                    <input type="color" id="colorText">
                    <input type="color" id="color">
                </div>

                <label for="opacity">Прозрачность</label>
                <input class="range" type="range" id="opacity" min="0" max="1" step="0.01" value="0.5">

                <input type="text" maxlength="25" for="result" placeholder="Введите текст на который наложить тень">

            </div>
            <div class="text-w">
                <h2 id="result">Write Your Text</h2>

                <div>
                    <h4>Результат</h4>
                    <textarea id="cssCode" readonly></textarea>
                </div>
            </div>
        </div>
    </form>
    <script>
        function generateCss() {


            let input = document.querySelector('input[for="result"]');
            let fontSelect = document.getElementById('font-family')
            let h2 = document.getElementById('result');

            fontSelect.addEventListener('change', (event) => {
                let selectedFont = event.target.value;
                h2.style.fontFamily = selectedFont;
            });

            input.addEventListener('input', () => {
                h2.textContent = input.value;
            })

            let fontSize = document.getElementById('font-size').value

            let fontFamily = document.getElementById('font-family').value

            let offsetX = document.getElementById('offsetX').value
            let offsetY = document.getElementById('offsetY').value
            let blur = document.getElementById('blur').value


            let colorText = document.getElementById('colorText').value



            let color = document.getElementById('color').value
            let red = parseInt(color.slice(1, 3), 16)
            let green = parseInt(color.slice(3, 5), 16)
            let blue = parseInt(color.slice(5, 7), 16)
            let opacity = document.getElementById('opacity').value


            let result = document.getElementById('result')
            let textarea = document.getElementById('cssCode')

            let str = `${offsetX}px ${offsetY}px ${blur}px rgba(${red}, ${green}, ${blue}, ${opacity})`

            let font = `${fontSize}px`
            let colorH2 = `${colorText}`
            let fontF = `${fontFamily}`

            textarea.textContent = 'text-shadow:' + str + ';' + '\n' + 'font-size:' + font + ';' + '\n' + 'color:' + colorH2 + ';' + '\n' + 'font-family:' + fontF + ';'
            result.style.textShadow = str
            result.style.fontSize = font
            result.style.color = colorText
            result.style.fontFamily = fontF


        }

        for (let item of document.querySelectorAll('input')) {
            item.addEventListener('input', generateCss)

        }
        generateCss()
    </script>


    <!-- <script src="form.js"></script> -->
</body>

</html>